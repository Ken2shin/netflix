<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Estudiantes</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .title {
            color: #666;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .subtitle {
            color: #666;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .form-container {
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            background-color: #fafafa;
        }

        .button-group {
            margin-bottom: 20px;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            color: white;
            margin-right: 8px;
        }

        .btn-nuevo { background-color: #007bff; }
        .btn-guardar { background-color: #28a745; }
        .btn-cancelar { background-color: #17a2b8; }
        .btn-eliminar { background-color: #dc3545; }

        .btn:hover {
            opacity: 0.9;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #666;
            font-weight: bold;
        }

        .form-control {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            background-color: #e9ecef;
            font-size: 14px;
            box-sizing: border-box;
        }

        .form-control:disabled {
            background-color: #e9ecef;
            color: #6c757d;
        }

        .form-control:enabled {
            background-color: white;
        }

        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 5px;
        }

        .radio-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .radio-item input[type="radio"] {
            margin: 0;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 5px;
        }

        .navigation {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #ddd;
        }

        .nav-btn {
            padding: 8px 12px;
            background-color: #6c757d;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
        }

        .nav-btn:hover:not(:disabled) {
            background-color: #5a6268;
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .status {
            text-align: center;
            margin-top: 10px;
            color: #666;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <p class="title">En la siguiente práctica, se pide realizar un formulario que permita manejar datos de estudiantes.</p>
        <p class="subtitle">El formulario tendrá una apariencia similar a la mostrada en la imagen siguiente:</p>
        
        <div class="form-container">
            <div class="button-group">
                <button class="btn btn-nuevo" id="btnNuevo">Nuevo</button>
                <button class="btn btn-guardar" id="btnGuardar" disabled>Guardar</button>
                <button class="btn btn-cancelar" id="btnCancelar" disabled>Cancelar</button>
                <button class="btn btn-eliminar" id="btnEliminar" disabled>Eliminar</button>
            </div>

            <form id="formularioEstudiante">
                <div class="form-group">
                    <label for="nombre">Nombre:</label>
                    <input type="text" id="nombre" class="form-control" disabled>
                </div>

                <div class="form-group">
                    <label for="apellido">Apellido:</label>
                    <input type="text" id="apellido" class="form-control" disabled>
                </div>

                <div class="form-group">
                    <label for="carrera">Carrera:</label>
                    <select id="carrera" class="form-control" disabled>
                        <option value="">Seleccione</option>
                        <option value="Ingeniería en Sistemas">Ingeniería en Sistemas</option>
                        <option value="Ingeniería Industrial">Ingeniería Industrial</option>
                        <option value="Administración">Administración</option>
                        <option value="Contaduría">Contaduría</option>
                        <option value="Derecho">Derecho</option>
                        <option value="Medicina">Medicina</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Sexo:</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="masculino" name="sexo" value="Masculino" disabled>
                            <label for="masculino">Masculino</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="femenino" name="sexo" value="Femenino" disabled>
                            <label for="femenino">Femenino</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="egresado" disabled>
                        <label for="egresado">¿Egresado?</label>
                    </div>
                </div>
            </form>

            <div class="navigation">
                <button class="nav-btn" id="btnPrimero" disabled>&lt;&lt;</button>
                <button class="nav-btn" id="btnAnterior" disabled>&lt;</button>
                <button class="nav-btn" id="btnSiguiente" disabled>&gt;</button>
                <button class="nav-btn" id="btnUltimo" disabled>&gt;&gt;</button>
            </div>

            <div class="status" id="status">No hay registros</div>
        </div>
    </div>

    <script>
        // Arreglo global para almacenar los estudiantes
        let estudiantes = [];
        let indiceActual = -1;
        let modoEdicion = false;
        let ultimaPosicion = -1;

        // Referencias a elementos del DOM
        const btnNuevo = document.getElementById('btnNuevo');
        const btnGuardar = document.getElementById('btnGuardar');
        const btnCancelar = document.getElementById('btnCancelar');
        const btnEliminar = document.getElementById('btnEliminar');
        
        const btnPrimero = document.getElementById('btnPrimero');
        const btnAnterior = document.getElementById('btnAnterior');
        const btnSiguiente = document.getElementById('btnSiguiente');
        const btnUltimo = document.getElementById('btnUltimo');
        
        const nombre = document.getElementById('nombre');
        const apellido = document.getElementById('apellido');
        const carrera = document.getElementById('carrera');
        const masculino = document.getElementById('masculino');
        const femenino = document.getElementById('femenino');
        const egresado = document.getElementById('egresado');
        const status = document.getElementById('status');

        // Event listeners
        btnNuevo.addEventListener('click', nuevoEstudiante);
        btnGuardar.addEventListener('click', guardarEstudiante);
        btnCancelar.addEventListener('click', cancelarOperacion);
        btnEliminar.addEventListener('click', eliminarEstudiante);
        
        btnPrimero.addEventListener('click', () => navegarA(0));
        btnAnterior.addEventListener('click', navegarAnterior);
        btnSiguiente.addEventListener('click', navegarSiguiente);
        btnUltimo.addEventListener('click', () => navegarA(estudiantes.length - 1));

        function nuevoEstudiante() {
            ultimaPosicion = indiceActual;
            modoEdicion = true;
            habilitarControles();
            limpiarFormulario();
            actualizarBotones();
            actualizarStatus();
        }

        function guardarEstudiante() {
            if (!validarFormulario()) {
                alert('Por favor, complete todos los campos obligatorios.');
                return;
            }

            const nuevoEstudiante = {
                nombre: nombre.value.trim(),
                apellido: apellido.value.trim(),
                carrera: carrera.value,
                sexo: document.querySelector('input[name="sexo"]:checked')?.value || '',
                egresado: egresado.checked
            };

            estudiantes.push(nuevoEstudiante);
            indiceActual = estudiantes.length - 1;
            modoEdicion = false;
            
            deshabilitarControles();
            actualizarBotones();
            actualizarStatus();
            
            alert('Estudiante guardado exitosamente.');
        }

        function cancelarOperacion() {
            modoEdicion = false;
            deshabilitarControles();
            
            if (ultimaPosicion >= 0 && ultimaPosicion < estudiantes.length) {
                indiceActual = ultimaPosicion;
                mostrarEstudiante(indiceActual);
            } else if (estudiantes.length > 0) {
                indiceActual = estudiantes.length - 1;
                mostrarEstudiante(indiceActual);
            } else {
                indiceActual = -1;
                limpiarFormulario();
            }
            
            actualizarBotones();
            actualizarStatus();
        }

        function eliminarEstudiante() {
            if (indiceActual >= 0 && indiceActual < estudiantes.length) {
                if (confirm('¿Está seguro de que desea eliminar este estudiante?')) {
                    estudiantes.splice(indiceActual, 1);
                    
                    if (estudiantes.length === 0) {
                        indiceActual = -1;
                        limpiarFormulario();
                    } else {
                        if (indiceActual >= estudiantes.length) {
                            indiceActual = estudiantes.length - 1;
                        }
                        mostrarEstudiante(indiceActual);
                    }
                    
                    actualizarBotones();
                    actualizarStatus();
                    alert('Estudiante eliminado exitosamente.');
                }
            }
        }

        function navegarA(indice) {
            if (indice >= 0 && indice < estudiantes.length) {
                indiceActual = indice;
                mostrarEstudiante(indiceActual);
                actualizarBotones();
                actualizarStatus();
            }
        }

        function navegarAnterior() {
            if (indiceActual > 0) {
                navegarA(indiceActual - 1);
            }
        }

        function navegarSiguiente() {
            if (indiceActual < estudiantes.length - 1) {
                navegarA(indiceActual + 1);
            }
        }

        function mostrarEstudiante(indice) {
            if (indice >= 0 && indice < estudiantes.length) {
                const estudiante = estudiantes[indice];
                nombre.value = estudiante.nombre;
                apellido.value = estudiante.apellido;
                carrera.value = estudiante.carrera;
                
                if (estudiante.sexo === 'Masculino') {
                    masculino.checked = true;
                } else if (estudiante.sexo === 'Femenino') {
                    femenino.checked = true;
                }
                
                egresado.checked = estudiante.egresado;
            }
        }

        function limpiarFormulario() {
            nombre.value = '';
            apellido.value = '';
            carrera.value = '';
            masculino.checked = false;
            femenino.checked = false;
            egresado.checked = false;
        }

        function habilitarControles() {
            nombre.disabled = false;
            apellido.disabled = false;
            carrera.disabled = false;
            masculino.disabled = false;
            femenino.disabled = false;
            egresado.disabled = false;
        }

        function deshabilitarControles() {
            nombre.disabled = true;
            apellido.disabled = true;
            carrera.disabled = true;
            masculino.disabled = true;
            femenino.disabled = true;
            egresado.disabled = true;
        }

        function actualizarBotones() {
            // Botones principales
            btnNuevo.disabled = modoEdicion;
            btnGuardar.disabled = !modoEdicion;
            btnCancelar.disabled = !modoEdicion;
            btnEliminar.disabled = modoEdicion || estudiantes.length === 0;
            
            // Botones de navegación
            const hayRegistros = estudiantes.length > 0 && !modoEdicion;
            btnPrimero.disabled = !hayRegistros || indiceActual <= 0;
            btnAnterior.disabled = !hayRegistros || indiceActual <= 0;
            btnSiguiente.disabled = !hayRegistros || indiceActual >= estudiantes.length - 1;
            btnUltimo.disabled = !hayRegistros || indiceActual >= estudiantes.length - 1;
        }

        function actualizarStatus() {
            if (modoEdicion) {
                status.textContent = 'Modo edición - Nuevo registro';
            } else if (estudiantes.length === 0) {
                status.textContent = 'No hay registros';
            } else {
                status.textContent = `Registro ${indiceActual + 1} de ${estudiantes.length}`;
            }
        }

        function validarFormulario() {
            return nombre.value.trim() !== '' && 
                   apellido.value.trim() !== '' && 
                   carrera.value !== '' && 
                   document.querySelector('input[name="sexo"]:checked') !== null;
        }

    // aqui se inicializa la interfas
        actualizarBotones();
        actualizarStatus();
    </script>
</body>
</html>